/**
 * videojs-mux
 * @version 2.0.28
 * @copyright 2017 Mux, Inc.
 * @license
 */
!function e(t,i,n){function a(o,u){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!u&&l)return l(o,!0);if(r)return r(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var d=i[o]={exports:{}};t[o][0].call(d.exports,function(e){var i=t[o][1][e];return a(i?i:e)},d,d.exports,e,t,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t,i){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,i){function n(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function a(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function r(e,t){return function(i){return e(t(i))}}function o(e,t){var i=N(e)||y(e)?a(e.length,String):[],n=i.length,r=!!n;for(var o in e)!t&&!M.call(e,o)||r&&("length"==o||c(o,n))||i.push(o);return i}function u(e,t,i){var n=e[t];M.call(e,t)&&m(n,i)&&(void 0!==i||t in e)||(e[t]=i)}function l(e){if(!h(e))return D(e);var t=[];for(var i in Object(e))M.call(e,i)&&"constructor"!=i&&t.push(i);return t}function s(e,t){return t=C(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,r=C(i.length-t,0),o=Array(r);++a<r;)o[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=o,n(e,this,u)}}function d(e,t,i,n){i||(i={});for(var a=-1,r=t.length;++a<r;){var o=t[a],l=n?n(i[o],e[o],o,i,e):void 0;u(i,o,void 0===l?e[o]:l)}return i}function f(e){return s(function(t,i){var n=-1,a=i.length,r=a>1?i[a-1]:void 0,o=a>2?i[2]:void 0;for(r=e.length>3&&"function"==typeof r?(a--,r):void 0,o&&p(i[0],i[1],o)&&(r=a<3?void 0:r,a=1),t=Object(t);++n<a;){var u=i[n];u&&e(t,u,n,r)}return t})}function c(e,t){return t=null==t?j:t,!!t&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function p(e,t,i){if(!w(i))return!1;var n=typeof t;return!!("number"==n?_(i)&&c(t,i.length):"string"==n&&t in i)&&m(i[t],e)}function h(e){var t=e&&e.constructor,i="function"==typeof t&&t.prototype||E;return e===i}function m(e,t){return e===t||e!==e&&t!==t}function y(e){return v(e)&&M.call(e,"callee")&&(!I.call(e,"callee")||A.call(e)==T)}function _(e){return null!=e&&g(e.length)&&!b(e)}function v(e){return x(e)&&_(e)}function b(e){var t=w(e)?A.call(e):"";return t==S||t==O}function g(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=j}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function x(e){return!!e&&"object"==typeof e}function k(e){return _(e)?o(e):l(e)}var j=9007199254740991,T="[object Arguments]",S="[object Function]",O="[object GeneratorFunction]",P=/^(?:0|[1-9]\d*)$/,E=Object.prototype,M=E.hasOwnProperty,A=E.toString,I=E.propertyIsEnumerable,D=r(Object.keys,Object),C=Math.max,R=!I.call({valueOf:1},"valueOf"),N=Array.isArray,L=f(function(e,t){if(R||h(t)||_(t))return void d(t,k(t),e);for(var i in t)M.call(t,i)&&u(e,i,t[i])});t.exports=L},{}],3:[function(e,t,i){(function(n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var r=!1;!function(e){if("object"==("undefined"==typeof i?"undefined":a(i))&&"undefined"!=typeof t)t.exports=e();else if("function"==typeof r&&r.amd)r([],e);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof self?self:this,o.mux=e()}}(function(){var t;return function t(i,n,a){function r(u,l){if(!n[u]){if(!i[u]){var s="function"==typeof e&&e;if(!l&&s)return s(u,!0);if(o)return o(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var f=n[u]={exports:{}};i[u][0].call(f.exports,function(e){var t=i[u][1][e];return r(t?t:e)},f,f.exports,t,i,n,a)}return n[u].exports}for(var o="function"==typeof e&&e,u=0;u<a.length;u++)r(a[u]);return r}({1:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t}function r(e){var t={};return Object.keys(e).forEach(function(i){if(e.hasOwnProperty(i)&&void 0!==e[i]){var n=i.split("_"),a=n[0],r=s[a];r||(u.default.debug("Data key word `"+n[0]+"` not expected in "+i),r=a+"_"),n.splice(1).forEach(function(e){f[e]?r+=f[e]:(u.default.debug("Data key word `"+e+"` not expected in "+i),r+="_"+e+"_")}),t[r]=e[i]}}),t}Object.defineProperty(i,"__esModule",{value:!0}),i.default=r;var o=e("./utils/log.js"),u=n(o),l={a:"property",d:"ad",e:"event",f:"experiment",m:"mux",p:"player",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view"},s=a(l),d={ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",au:"autoplay",br:"break",cd:"code",cg:"category",cn:"config",co:"count",cp:"complete",ct:"content",cu:"current",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",du:"duration",dv:"device",ec:"encoding",en:"end",eg:"engine",em:"embed",er:"error",ev:"events",ex:"expires",fi:"first",fm:"family",ft:"format",fq:"frequency",fr:"frame",fs:"fullscreen",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",li:"live",lo:"load",ma:"max",me:"message",mi:"mime",ml:"midroll",mn:"manufacturer",mx:"mux",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",ph:"playhead",pi:"plugin",pl:"preroll",po:"poster",pr:"preload",ra:"rate",re:"rebuffer",ro:"ratio",sa:"sample",se:"session",sk:"seek",sm:"stream",sq:"sequence",sr:"series",st:"start",so:"source",su:"startup",sw:"software",tc:"tech",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"},f=a(d)},{"./utils/log.js":21}],2:[function(e,t,i){function n(){this.isAdBreak=!1,this.on("adbreakstart",function(){this.isAdBreak=!0}),this.on("play",function(){this.isAdBreak=!1}),this.on("playing",function(){this.isAdBreak=!1}),this.on("seeking",function(){this.isAdBreak=!1}),this.on("viewend",function(){this.isAdBreak=!1})}Object.defineProperty(i,"__esModule",{value:!0}),i.default=n},{}],3:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function a(){var e=this;this.one("playbackheartbeat",u),this.on("playbackheartbeatend",function(){e.off("before*",l),e.one("playbackheartbeat",u)})}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var r=e("lodash.assign"),o=n(r),u=function(){this.lastWallClockTime=Date.now(),this.on("before*",l)},l=function(e){var t=Date.now(),i=this.lastWallClockTime;this.lastWallClockTime=t,t-i>3e4&&(this.emit("devicesleep",{viewer_time:i}),(0,o.default)(this.data,{viewer_time:i}),this.send("devicesleep"),this.emit("devicewake",{viewer_time:t}),(0,o.default)(this.data,{viewer_time:t}),this.send("devicewake"))}},{"lodash.assign":33}],4:[function(e,t,i){function n(){var e=this;this.on("viewinit",function(){e.viewErrored=!1}),this.on("error",function(){e.viewErrored=!0})}Object.defineProperty(i,"__esModule",{value:!0}),i.default=n},{}],5:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){},a=0;n.prototype.on=function(e,t,i){return t._eventEmitterGuid=t._eventEmitterGuid||++a,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],i&&(t=t.bind(i)),this._listeners[e].push(t),t},n.prototype.off=function(e,t){var i=this._listeners&&this._listeners[e];i&&i.forEach(function(e,n){e._eventEmitterGuid===t._eventEmitterGuid&&i.splice(n,1)})},n.prototype.one=function(e,t,i){var n=this;t._eventEmitterGuid=t._eventEmitterGuid||++a;var r=function a(){n.off(e,a),t.apply(i||this,arguments)};r._eventEmitterGuid=t._eventEmitterGuid,this.on(e,r)},n.prototype.emit=function(e,t){var i=this;if(this._listeners){t=t||{};var n=this._listeners["before*"]||[],a=this._listeners[e]||[],r=this._listeners["after"+e]||[],o=function(t,n){t=t.slice(),t.forEach(function(t){t.call(i,{type:e},n)})};o(n,t),o(a,t),o(r,t)}},i.default=n},{}],6:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("global/window"),r=n(a),o=function(){this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,this.on("playing",function(){this._playheadShouldBeProgressing=!0}),this.on("play",this._startPlaybackHeartbeatInterval),this.on("adbreakstart",this._startPlaybackHeartbeatInterval),this.on("adplay",this._startPlaybackHeartbeatInterval),this.on("seeking",this._startPlaybackHeartbeatInterval),this.on("devicewake",this._startPlaybackHeartbeatInterval),this.on("pause",this._stopPlaybackHeartbeatInterval),this.on("ended",this._stopPlaybackHeartbeatInterval),this.on("viewend",this._stopPlaybackHeartbeatInterval),this.on("error",this._stopPlaybackHeartbeatInterval),this.on("adpause",this._stopPlaybackHeartbeatInterval),this.on("adbreakend",this._stopPlaybackHeartbeatInterval),this.on("seeked",function(){this.data.player_is_paused&&this._stopPlaybackHeartbeatInterval()}),this.on("timeupdate",function(){null!==this._playbackHeartbeatInterval&&this.emit("playbackheartbeat",{viewer_time:Date.now()})}),this.on("devicesleep",function(e,t){null!==this._playbackHeartbeatInterval&&(r.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend",{viewer_time:t.viewer_time}),this._playbackHeartbeatInterval=null)})};o.prototype._startPlaybackHeartbeatInterval=function(){var e=this;null===this._playbackHeartbeatInterval&&(this.emit("playbackheartbeat",{viewer_time:Date.now()}),this._playbackHeartbeatInterval=r.default.setInterval(function(){e.emit("playbackheartbeat",{viewer_time:Date.now()})},this.playbackHeartbeatTime))},o.prototype._stopPlaybackHeartbeatInterval=function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(r.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend",{viewer_time:Date.now()}),this._playbackHeartbeatInterval=null)},i.default=o},{"global/window":32}],7:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("../utils/safe-increment.js"),r=n(a),o=function(){this._playbackTimeTrackerLastPlayheadPosition=-1,this.on("playbackheartbeat",this._updatePlaybackTime),this.on("playbackheartbeatend",this._clearPlaybackTimeState),this.on("seeking",this._clearPlaybackTimeState)};o.prototype._updatePlaybackTime=function(){var e=this.data.player_playhead_time;if(this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition){var t=e-this._playbackTimeTrackerLastPlayheadPosition;t<=1e3&&(0,r.default)(this.data,"view_content_playback_time",t)}this._playbackTimeTrackerLastPlayheadPosition=e},o.prototype._clearPlaybackTimeState=function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1},i.default=o},{"../utils/safe-increment.js":23}],8:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){this.on("playbackheartbeat",this._updatePlayheadTime),this.on("playbackheartbeatend",this._updatePlayheadTime),this.on("timeupdate",this._updatePlayheadTime),this.on("destroy",function(){this.off("timeupdate",this._updatePlayheadTime)})};n.prototype._updatePlayheadTime=function(e,t){t.player_playhead_time?this.data.player_playhead_time=t.player_playhead_time:this.getPlayheadTime&&(this.data.player_playhead_time=this.getPlayheadTime())},i.default=n},{}],9:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("../utils/safe-increment.js"),r=n(a),o=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,this.on("playbackheartbeat",this._checkIfRebuffering),this.on("playbackheartbeatend",this._cleanupRebufferTracker),this.on("seeking",function(){this._cleanupRebufferTracker(null,{viewer_time:Date.now()})})};o.prototype._checkIfRebuffering=function(e,t){if(this.isSeeking||this.isAdBreak||!this._playheadShouldBeProgressing)return void this._cleanupRebufferTracker(e,t);if(null===this._lastCheckedTime)return this._prepareRebufferTrackerState(t.viewer_time),void this._updateRebufferMetrics();if(this._lastPlayheadTime!==this.data.player_playhead_time)return void this._cleanupRebufferTracker(e,t,!0);var i=t.viewer_time-this._lastPlayheadTimeUpdatedTime;i>=this.sustainedRebufferThreshold&&(this._rebuffering?this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime):(this._rebuffering=!0,(0,r.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(i),this.emit("rebufferstart"))),this._lastCheckedTime=t.viewer_time},o.prototype._clearRebufferTrackerState=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null},o.prototype._prepareRebufferTrackerState=function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e},o.prototype._cleanupRebufferTracker=function(e,t){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime),this.emit("rebufferend",{viewer_time:t.viewer_time});else{if(null===this._lastCheckedTime)return void this._updateRebufferMetrics();var n=this.data.player_playhead_time-this._lastPlayheadTime,a=t.viewer_time-this._lastPlayheadTimeUpdatedTime;n>0&&a-n>this.minimumRebufferDuration?((0,r.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(a-n),this.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+a-n})):this._updateRebufferMetrics()}i?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()},o.prototype._updateRebufferMetrics=function(e){e>0&&(0,r.default)(this.data,"view_rebuffer_duration",e),this.data.view_watch_time>=0&&this.data.view_rebuffer_count>0&&(this.data.view_rebuffer_frequency=this.data.view_rebuffer_count/this.data.view_watch_time,this.data.view_rebuffer_percentage=this.data.view_rebuffer_duration/this.data.view_watch_time)},i.default=o},{"../utils/safe-increment.js":23}],10:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function a(){var e=this;this.on("viewinit",function(){this._lastPlayheadPosition=-1});var t=["pause","rebufferstart","seeking","error","adbreakstart","hb"],i=["playing","hb"];t.forEach(function(t){e.on(t,function(){if(this._lastPlayheadPosition>=0&&this.data.player_playhead_time>=0&&this._lastPlayerWidth>=0&&this._lastSourceWidth>0&&this._lastPlayerHeight>=0&&this._lastSourceHeight>0){var e=this.data.player_playhead_time-this._lastPlayheadPosition;if(e<0)return void(this._lastPlayheadPosition=-1);var t=Math.min(this._lastPlayerWidth/this._lastSourceWidth,this._lastPlayerHeight/this._lastSourceHeight),i=Math.max(0,t-1),n=Math.max(0,1-t);this.data.view_max_upscale_percentage=Math.max(this.data.view_max_upscale_percentage||0,i),this.data.view_max_downscale_percentage=Math.max(this.data.view_max_downscale_percentage||0,n),(0,o.default)(this.data,"view_total_content_playback_time",e),(0,o.default)(this.data,"view_total_upscaling",i*e),(0,o.default)(this.data,"view_total_downscaling",n*e)}this._lastPlayheadPosition=-1})}),i.forEach(function(t){e.on(t,function(){this._lastPlayheadPosition=this.data.player_playhead_time,this._lastPlayerWidth=this.data.player_width,this._lastPlayerHeight=this.data.player_height,this._lastSourceWidth=this.data.video_source_width,this._lastSourceHeight=this.data.video_source_height})})}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var r=e("../utils/safe-increment.js"),o=n(r)},{"../utils/safe-increment.js":23}],11:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function a(){this.isSeeking=!1,this.on("seeking",function(e,t){(0,l.default)(this.data,{viewer_time:Date.now()},t),this._lastSeekingTime=Date.now(),this.isSeeking===!1&&(this.isSeeking=!0,this.send("seeking"))}),this.on("seeked",function(){this.isSeeking=!1;var e=this._lastSeekingTime||Date.now(),t=Date.now()-e;(0,o.default)(this.data,"view_seek_count",1),(0,o.default)(this.data,"view_seek_duration",t);var i=this.data.view_max_seek_time||0;this.data.view_max_seek_time=Math.max(i,t)}),this.on("viewend",function(){this.isSeeking=!1})}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var r=e("../utils/safe-increment.js"),o=n(r),u=e("lodash.assign"),l=n(u)},{"../utils/safe-increment.js":23,"lodash.assign":33}],12:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){this.on("viewinit",function(){var e=this.data,t=e.view_id,i=function(e,i){var n=i.viewer_time;"playing"===e.type&&"undefined"==typeof this.data.view_time_to_first_frame?this.calculateTimeToFirstFrame(n||Date.now(),t):"adplaying"===e.type&&("undefined"==typeof this.data.view_time_to_first_frame||"undefined"==typeof this.data.view_content_playback_time||this.data.view_content_playback_time<=1e3)&&this.calculateTimeToFirstFrame(n||Date.now(),t)};this.one("playing",i),this.one("adplaying",i),this.one("viewend",function(){this.off("playing",i),this.off("adplaying",i)})})};n.prototype.calculateTimeToFirstFrame=function(e,t){t===this.data.view_id&&(this.data.view_time_to_first_frame=e-this.data.view_start,(this.data.player_autoplay_on||this.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.data.view_aggregate_startup_time=e-this.NAVIGATION_START))},i.default=n},{}],13:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function a(){var e=this,t=void 0,i=void 0,n=function(){(0,o.default)(e.data,"view_waiting_rebuffer_count",1),t=Date.now(),i=window.setInterval(function(){if(t){var i=Date.now();(0,o.default)(e.data,"view_waiting_rebuffer_duration",i-t),t=i}},250)},a=function(){t&&((0,o.default)(e.data,"view_waiting_rebuffer_duration",Date.now()-t),t=!1,window.clearInterval(i))},r=!1,u=function(){r=!0},l=function(){r=!1,a()};this.on("waiting",function(){r&&n()}),this.on("playing",function(){a(),u()}),this.on("pause",l),this.on("seeking",l)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var r=e("../utils/safe-increment.js"),o=n(r)},{"../utils/safe-increment.js":23}],14:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("../utils/safe-increment.js"),r=n(a),o=function(){this._watchTimeTrackerLastCheckedTime=null,this.on("playbackheartbeat",this._updateWatchTime),this.on("playbackheartbeatend",this._clearWatchTimeState)};o.prototype._updateWatchTime=function(e,t){var i=t.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=i),(0,r.default)(this.data,"view_watch_time",i-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=i},o.prototype._clearWatchTimeState=function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null},i.default=o},{"../utils/safe-increment.js":23}],15:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}var r="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":a(e)},o=function(){function e(e,t){var i=[],n=!0,a=!1,r=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw r}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=e("global/window"),l=n(u),s=e("platform"),d=n(s),f=e("qs"),c=n(f),p=e("./vendor/js-cookie.js"),h=n(p),m=e("./minify-keys.js"),y=n(m),_=e("./utils/image-beacon.js"),v=n(_),b=e("./utils/beacon-url.js"),g=n(b),w=e("./utils/element-helpers.js"),x=e("lodash.assign"),k=n(x),j=e("./utils/log.js"),T=n(j),S=e("./utils/uuid.js"),O=e("./player-monitor.js"),P=n(O),E=e("./video-el-monitor.js"),M=n(E),A=e("./utils/utils-public.js"),I=n(A),D="2.0.46",C="2.0",R={},N={};t.exports=function(){function e(){var e=void 0;try{e=c.default.parse(h.default.get("muxData")||"")}catch(e){}return e||{}}function t(){var t=e();return t.mux_viewer_id=t.mux_viewer_id||(0,S.generateUUID)(),t.msn=t.msn||Math.random(),h.default.set("muxData",c.default.stringify(t),{expires:7300}),{mux_viewer_id:t.mux_viewer_id,mux_sample_number:t.msn}}function i(){var t=e(),i=Date.now();t.session_start&&(t.sst=t.session_start,delete t.session_start),t.session_id&&(t.sid=t.session_id,delete t.session_id),t.session_expires&&(t.sex=t.session_expires,delete t.session_expires),(!t.sex||t.sex<i)&&(t.sid=(0,S.generateUUID)(),t.sst=i),t.sex=i+15e5,h.default.set("muxData",c.default.stringify(t),{expires:7300});var n={session_id:t.sid,session_start:t.sst,session_expires:t.sex};return n}function n(e,t){e=Array.prototype.slice.apply(e),t=t||Date.now();var i=e[e.length-1],n=void 0;return"object"!==("undefined"==typeof i?"undefined":r(i))?(e.push({viewer_time:t}),e):(i.viewer_time||(n=(0,k.default)({},i),n.viewer_time=t,e[e.length-1]=n),e)}var a=function e(t){var i=arguments,a=Date.now();"string"==typeof t?e.hasOwnProperty(t)?l.default.setTimeout(function(){i=Array.prototype.splice.call(i,1),i=n(i,a),e[t].apply(null,i)},0):T.default.warn("`"+t+"` is an unknown task"):"function"==typeof t?l.default.setTimeout(function(){t(e)},0):T.default.warn("`"+t+"` is invalid.")};a.loaded=Date.now(),a.VERSION=D,a.API_VERSION=C,a.PLAYER_TRACKED=!1,a.monitor=function(e,t){return(0,M.default)(a,e,t)},a.destroyMonitor=function(e){var t=(0,w.findMediaElement)(e),i=o(t,1),n=i[0];n&&n.mux&&"function"==typeof n.mux.destroy?n.mux.destroy():T.default.error("A video element monitor for `"+e+"` has not been initialized via `mux.monitor`.")},a.init=function(e,t){var i=(0,w.getMuxPlayerId)(e);R[i]=new P.default(a,i,t)},a.emit=function(e,t,i){var n=(0,w.getMuxPlayerId)(e);R[n]?(R[n].emit(t,i),"destroy"===t&&delete R[n]):T.default.error("A monitor for `"+n+"` has not been initialized.")};var u={mux_api_version:C,mux_embed_version:D,page_url:l.default.location.href,viewer_application_name:d.default.name,viewer_application_version:d.default.version,viewer_application_engine:d.default.layout,viewer_device_name:d.default.product,viewer_device_category:"",viewer_device_manufacturer:d.default.manufacturer,viewer_os_family:d.default.os&&d.default.os.family,viewer_os_architecture:d.default.os&&d.default.os.architecture,viewer_os_version:d.default.os&&d.default.os.version},s=t();return a.send=function(e,t){if(!e||a.checkDoNotTrack())return void T.default.debug("Not sending `"+e+"` because Do Not Track is enabled in your browser");var n=i()||{},o={};if(!t||"object"!==("undefined"==typeof t?"undefined":r(t)))return T.default.error("A data object was expected in send() but was not provided");"pageloadstart"===e&&(u.page_load_start=t.viewer_time),(0,k.default)(o,u),(0,k.default)(o,t),(0,k.default)(o,n),(0,k.default)(o,s),o.event=e,o.user_id&&(o.viewer_user_id=o.user_id,delete o.user_id);var l="undefined"==typeof o.mux_sample_rate?1:o.mux_sample_rate,d=o.mux_sample_number<l,f=(0,y.default)(o);d?(T.default.debug("Sending event: ",e,o,f),t.property_key&&(N[t.property_key]=N[t.property_key]||(0,g.default)(t.property_key),v.default.send(N[t.property_key],e,f))):T.default.debug("Not sending event due to sample rate restriction: ",e,o,f)},a.checkDoNotTrack=function(){var e=l.default.navigator,t=l.default.doNotTrack||e.doNotTrack||e.msDoNotTrack;return"1"===t},a.checkDoNotTrack()&&T.default.debug("The browser's Do Not Track flag is enabled - Mux beaconing is disabled."),a.log=T.default,a.utils=I.default,a}()},{"./minify-keys.js":1,"./player-monitor.js":16,"./utils/beacon-url.js":17,"./utils/element-helpers.js":18,"./utils/image-beacon.js":20,"./utils/log.js":21,"./utils/utils-public.js":25,"./utils/uuid.js":26,"./vendor/js-cookie.js":28,"./video-el-monitor.js":29,"global/window":32,"lodash.assign":33,platform:35,qs:36}],16:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("./utils/log.js"),r=n(a),o=e("lodash.assign"),u=n(o),l=e("./utils/uuid.js"),s=e("global/document"),d=n(s),f=e("global/window"),c=n(f),p=e("./mixins/event-emitter.js"),h=n(p),m=e("./mixins/playback-heartbeat.js"),y=n(m),_=e("./utils/safe-increment.js"),v=n(_),b=e("./utils/video-id-from-src.js"),g=n(b),w=e("./mixins/error-tracker.js"),x=n(w),k=e("./mixins/watch-time-tracker.js"),j=n(k),T=e("./mixins/playback-time-tracker.js"),S=n(T),O=e("./mixins/playhead-time-tracker.js"),P=n(O),E=e("./mixins/rebuffer-tracker.js"),M=n(E),A=e("./mixins/time-to-first-frame-tracker.js"),I=n(A),D=e("./mixins/scaling-tracker.js"),C=n(D),R=e("./mixins/seeking-tracker.js"),N=n(R),L=e("./mixins/ad-tracker.js"),B=n(L),H=e("./mixins/waiting-rebuffer-tracker.js"),W=n(H),F=e("./mixins/device-sleep-tracker.js"),U=n(F),G=["viewstart","ended","loadstart","pause","play","playing","ratechange","stalled","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","rebufferstart","rebufferend","seeked","error","hb"],V=function(e,t,i){var n=this;this.DOM_CONTENT_LOADED_EVENT_END=c.default.performance&&c.default.performance.timing.domContentLoadedEventEnd,this.NAVIGATION_START=c.default.performance&&c.default.performance.timing.navigationStart;var a={debug:!1,minimumRebufferDuration:100,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,sampleRate:1};this.mux=e,this.id=t,i=(0,u.default)(a,i),r.default.setLevel(i.debug?"debug":"warn"),this.getPlayheadTime=i.getPlayheadTime,this.getStateData=i.getStateData||function(){},this.minimumRebufferDuration=i.minimumRebufferDuration,this.sustainedRebufferThreshold=i.sustainedRebufferThreshold,this.playbackHeartbeatTime=i.playbackHeartbeatTime,this.data={player_instance_id:(0,l.generateShortID)(),mux_sample_rate:i.sampleRate},this.data.view_sequence_number=1,this.data.player_sequence_number=1,this.on("viewinit",function(e,t){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this.updateStateData(),(0,u.default)(this.data,t),this._initializeViewData();var i=function(){"undefined"==typeof this.data.view_start&&(this.data.view_start=Date.now(),this.emit("viewstart"))}.bind(this);this.one("play",i),this.one("adbreakstart",i)}),this.on("videochange",function(e,t){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",t)}),this.on("destroy",function(e,t){"undefined"!=typeof this.data.view_start&&(this.emit("viewend"),this.send("viewend")),c.default.clearTimeout(this._heartBeatTimeout)}),this.on("playerready",function(e,t){(0,u.default)(this.data,t)}),G.forEach(function(e){n.on(e,function(t,i){0!==e.indexOf("ad")&&this.updateStateData(),(0,u.default)(this.data,{viewer_time:Date.now()},i),this._sanitizeData()}),n.on("after"+e,function(){this.send(e)})});var o=function(e){var t=Date.now();this.data.player_init_time&&(this.data.player_startup_time=t-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time};this.one("playerready",o),x.default.apply(this),U.default.apply(this),N.default.apply(this),B.default.apply(this),P.default.apply(this),y.default.apply(this),C.default.apply(this),j.default.apply(this),S.default.apply(this),M.default.apply(this),I.default.apply(this),W.default.apply(this),this.emit("viewinit",i.data)};(0,u.default)(V.prototype,P.default.prototype),(0,u.default)(V.prototype,h.default.prototype),(0,u.default)(V.prototype,N.default.prototype),(0,u.default)(V.prototype,B.default.prototype),(0,u.default)(V.prototype,y.default.prototype),(0,u.default)(V.prototype,j.default.prototype),(0,u.default)(V.prototype,S.default.prototype),(0,u.default)(V.prototype,M.default.prototype),(0,u.default)(V.prototype,I.default.prototype),V.prototype.updateStateData=function(){(0,u.default)(this.data,this.getStateData()),this.getPlayheadTime&&(this.data.player_playhead_time=this.getPlayheadTime()),this._sanitizeData()},V.prototype.send=function(e){var t=(0,u.default)({},this.data);if(1===t.player_error_code&&(delete t.player_error_code,delete t.player_error_message),t.player_source_duration===1/0||t.video_source_duration===1/0?t.video_source_is_live=!0:(t.player_source_duration>0||t.video_source_duration>0)&&(t.video_source_is_live=!1),t.video_source_url=t.video_source_url||t.player_source_url,t.video_source_url){var i=d.default.createElement("a");i.href=t.video_source_url;var n=i.hostname,a=n.match(/[^\.]+\.[^\.]+$/);a&&a.length&&(t.video_source_domain=a[0]),t.video_source_hostname=n}delete t.ad_request_id,this.mux.send(e,t),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat()},V.prototype._sanitizeData=function(){var e=this,t=["player_width","player_height","video_source_width","video_source_height","player_playhead_time"];t.forEach(function(t){var i=parseInt(e.data[t],10);e.data[t]=isNaN(i)?void 0:i})},V.prototype._resetVideoData=function(e,t){var i=this;Object.keys(this.data).forEach(function(e){0===e.indexOf("video_")&&delete i.data[e]})},V.prototype._resetViewData=function(){var e=this;Object.keys(this.data).forEach(function(t){0===t.indexOf("view_")&&delete e.data[t]}),this.data.view_sequence_number=1},V.prototype._resetErrorData=function(e,t){delete this.data.player_error_code,delete this.data.player_error_message},V.prototype._initializeViewData=function(){var e=this,t=this.data.view_id=(0,l.generateUUID)();this.data.video_id||(this.data.video_id=(0,g.default)(this.data.player_source_url));var i=function(){t===e.data.view_id&&(0,v.default)(e.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",i):i()},V.prototype._restartHeartBeat=function(){var e=this;c.default.clearTimeout(this._heartBeatTimeout),this.viewErrored||(this._heartBeatTimeout=c.default.setTimeout(function(){e.data.player_is_paused||e.emit("hb")},1e4))},i.default=V},{"./mixins/ad-tracker.js":2,"./mixins/device-sleep-tracker.js":3,"./mixins/error-tracker.js":4,"./mixins/event-emitter.js":5,"./mixins/playback-heartbeat.js":6,"./mixins/playback-time-tracker.js":7,"./mixins/playhead-time-tracker.js":8,"./mixins/rebuffer-tracker.js":9,"./mixins/scaling-tracker.js":10,"./mixins/seeking-tracker.js":11,"./mixins/time-to-first-frame-tracker.js":12,"./mixins/waiting-rebuffer-tracker.js":13,"./mixins/watch-time-tracker.js":14,"./utils/log.js":21,"./utils/safe-increment.js":23,"./utils/uuid.js":26,"./utils/video-id-from-src.js":27,"global/document":31,"global/window":32,"lodash.assign":33}],17:[function(e,t,i){function n(e){return e=e||"",e.match(/^[a-z0-9]+$/)?"https://"+e+".litix.io":"https://img.litix.io/a.gif"}Object.defineProperty(i,"__esModule",{value:!0}),i.default=n},{}],18:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.findMediaElement=i.getMuxPlayerId=void 0;var n=e("./uuid.js"),a=function(e){return e&&"undefined"!=typeof e.nodeName?(e.muxId||(e.muxId=e.id||(0,n.generateShortID)()),e.muxId):e},r=function(e){var t=void 0;t=e&&"undefined"!=typeof e.nodeName?e:document.querySelector(e),e=a(t);var i=t&&t.nodeName?t.nodeName.toLowerCase():"";return[t,e,i]};i.getMuxPlayerId=a,i.findMediaElement=r},{"./uuid.js":26}],19:[function(e,t,i){function n(e){
return e&&e.__esModule?e:{default:e}}function a(e,t){if(o.default.defaultView&&o.default.defaultView.getComputedStyle)return o.default.defaultView.getComputedStyle(e,null).getPropertyValue(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var r=e("global/document"),o=n(r)},{"global/document":31}],20:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("qs"),r=n(a),o={};o.send=function(e,t,i){var n=new Image;return n.src=e+"?e="+t+"&"+r.default.stringify(i),n},i.default=o},{qs:36}],21:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("loglevel"),r=n(a),o=r.default.methodFactory;r.default.methodFactory=function(e,t,i){var n=o(e,t,i);return function(){for(var e=["[mux]"],t=0;t<arguments.length;t++)e.push(arguments[t]);n.apply(void 0,e)}},r.default.setLevel(r.default.getLevel()),i.default=r.default},{loglevel:34}],22:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,i,n){var a=n;if(e&&"function"==typeof e[t])try{a=e[t].apply(e,i)}catch(e){o.default.debug("safeCall error",e)}return a}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var r=e("./log.js"),o=n(r)},{"./log.js":21}],23:[function(e,t,i){function n(e,t,i){i=void 0===i?1:i,e[t]=e[t]||0,e[t]+=i}Object.defineProperty(i,"__esModule",{value:!0}),i.default=n},{}],24:[function(e,t,i){function n(e){return Math.floor(1e3*e)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=n},{}],25:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("./safe-call.js"),r=n(a),o=e("./safe-increment.js"),u=n(o),l=e("./get-computed-style.js"),s=n(l),d=e("./seconds-to-ms.js"),f=n(d),c={};c.safeCall=r.default,c.safeIncrement=u.default,c.getComputedStyle=s.default,c.secondsToMs=f.default,i.default=c},{"./get-computed-style.js":19,"./safe-call.js":22,"./safe-increment.js":23,"./seconds-to-ms.js":24}],26:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"===e?t:3&t|8;return i.toString(16)})},a=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)};i.generateUUID=n,i.generateShortID=a},{}],27:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=o.default.createElement("a");t.href=e;var i=t.pathname.replace(/\.[^\/.]+$/,"");return l.default.btoa(t.host+i).split("=")[0]}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var r=e("global/document"),o=n(r),u=e("global/window"),l=n(u)},{"global/document":31,"global/window":32}],28:[function(e,i,n){var r="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":a(e)};!function(e){var a=!1;if("function"==typeof t&&t.amd&&(t(e),a=!0),"object"===("undefined"==typeof n?"undefined":r(n))&&(i.exports=e(),a=!0),!a){var o=window.Cookies,u=window.Cookies=e();u.noConflict=function(){return window.Cookies=o,u}}}(function(){function e(i){function n(e,a,r){var o;if("undefined"!=typeof document){if(arguments.length>1){if(r=t({path:"/"},n.defaults,r),"number"==typeof r.expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*r.expires),r.expires=u}try{o=JSON.stringify(a),/^[\{\[]/.test(o)&&(a=o)}catch(e){}return a=i.write?i.write(a,e):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",a,r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}e||(o={});for(var l=document.cookie?document.cookie.split("; "):[],s=/(%[0-9A-Z]{2})+/g,d=0;d<l.length;d++){var f=l[d].split("="),c=f.slice(1).join("=");'"'===c.charAt(0)&&(c=c.slice(1,-1));try{var p=f[0].replace(s,decodeURIComponent);if(c=i.read?i.read(c,p):i(c,p)||c.replace(s,decodeURIComponent),this.json)try{c=JSON.parse(c)}catch(e){}if(e===p){o=c;break}e||(o[p]=c)}catch(e){}}return o}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(e,i){n(e,"",t(i,{expires:-1}))},n.withConverter=e,n}var t=function e(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e};return e(function(){})})},{}],29:[function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,i){var n=(0,l.findMediaElement)(t),a=r(n,3),o=a[0],f=a[1],c=a[2],p=e.log,h=e.utils.getComputedStyle,m=e.utils.secondsToMs;return o?"video"!==c&&"audio"!==c?p.error("The element of `"+f+"` was not a media element."):(i=i||{},i.data=(0,u.default)({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:"2.0.46"},i.data),i.getPlayheadTime=function(){return m(o.currentTime)},i.getStateData=function(){return{player_is_paused:o.paused,player_playhead_time:m(o.currentTime),player_width:parseInt(h(o,"width")),player_height:parseInt(h(o,"height")),player_autoplay_on:o.autoplay,player_preload_on:o.preload,video_poster_url:o.poster,video_source_url:o.currentSrc,video_source_duration:m(o.duration),video_source_height:o.videoHeight,video_source_width:o.videoWidth}},o.mux=o.mux||{},o.mux.destroy=function(){Object.keys(o.mux.listeners).forEach(function(e){o.removeEventListener(e,o.mux.listeners[e],!1)}),delete o.mux.listeners,e.emit(f,"destroy")},o.mux.swapElement=function(t){var i=(0,l.findMediaElement)(t),n=r(i,3),a=n[0],s=n[1],d=n[2];return a?"video"!==d&&"audio"!==d?e.log.error("The element of `"+s+"` was not a media element."):(a.muxId=o.muxId,delete o.muxId,a.mux=a.mux||{},a.mux.listeners=(0,u.default)({},o.mux.listeners),delete o.mux.listeners,Object.keys(a.mux.listeners).forEach(function(e){o.removeEventListener(e,a.mux.listeners[e],!1),a.addEventListener(e,a.mux.listeners[e],!1)}),a.mux.swapElement=o.mux.swapElement,a.mux.destroy=o.mux.destroy,delete o.mux,void(o=a)):e.log.error("No element was found with the `"+s+"` query selector.")},e.init(f,i),e.emit(f,"playerready"),o.paused||(e.emit(f,"play"),o.readyState>2&&e.emit(f,"playing")),o.mux.listeners={},void s.forEach(function(t){o.mux.listeners[t]=function(){var i={};"error"===t&&(i.player_error_code=o.error&&o.error.code,i.player_error_message=o.error&&d[o.error.code]),e.emit(f,t,i)},o.addEventListener(t,o.mux.listeners[t],!1)})):p.error("No element was found with the `"+f+"` query selector.")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){var i=[],n=!0,a=!1,r=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw r}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();i.default=a;var o=e("lodash.assign"),u=n(o),l=e("./utils/element-helpers.js"),s=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],d={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"}},{"./utils/element-helpers.js":18,"lodash.assign":33}],30:[function(e,t,i){},{}],31:[function(e,t,i){(function(i){var n="undefined"!=typeof i?i:"undefined"!=typeof window?window:{},a=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var r=n["__GLOBAL_DOCUMENT_CACHE@4"];r||(r=n["__GLOBAL_DOCUMENT_CACHE@4"]=a),t.exports=r}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":30}],32:[function(e,t,i){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(e,t,i){function n(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function r(e){return function(t){return null==t?void 0:t[e]}}function o(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function u(e,t){return function(i){return e(t(i))}}function l(e,t,i){var n=e[t];C.call(e,t)&&_(n,i)&&(void 0!==i||t in e)||(e[t]=i)}function s(e,t){return null!=e&&(C.call(e,t)||"object"==("undefined"==typeof e?"undefined":a(e))&&t in e&&null===G(e))}function d(e,t){return t=H(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,r=H(i.length-t,0),o=Array(r);++a<r;)o[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=o,n(e,this,u)}}function f(e,t,i,n){i||(i={});for(var a=-1,r=t.length;++a<r;){var o=t[a],u=n?n(i[o],e[o],o,i,e):void 0;l(i,o,void 0===u?e[o]:u)}return i}function c(e){return d(function(t,i){var n=-1,a=i.length,r=a>1?i[a-1]:void 0,o=a>2?i[2]:void 0;for(r=e.length>3&&"function"==typeof r?(a--,r):void 0,o&&m(i[0],i[1],o)&&(r=a<3?void 0:r,a=1),t=Object(t);++n<a;){var u=i[n];u&&e(t,u,n,r)}return t})}function p(e){var t=e?e.length:void 0;return x(t)&&(V(e)||T(e)||v(e))?o(t,String):null}function h(e,t){return t=null==t?O:t,!!t&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}function m(e,t,i){if(!k(i))return!1;var n="undefined"==typeof t?"undefined":a(t);return!!("number"==n?b(i)&&h(t,i.length):"string"==n&&t in i)&&_(i[t],e)}function y(e){var t=e&&e.constructor,i="function"==typeof t&&t.prototype||D;return e===i}function _(e,t){return e===t||e!==e&&t!==t}function v(e){return g(e)&&C.call(e,"callee")&&(!N.call(e,"callee")||R.call(e)==P)}function b(e){return null!=e&&x(U(e))&&!w(e)}function g(e){return j(e)&&b(e)}function w(e){var t=k(e)?R.call(e):"";return t==E||t==M}function x(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=O}function k(e){var t="undefined"==typeof e?"undefined":a(e);return!!e&&("object"==t||"function"==t)}function j(e){return!!e&&"object"==("undefined"==typeof e?"undefined":a(e))}function T(e){return"string"==typeof e||!V(e)&&j(e)&&R.call(e)==A}function S(e){var t=y(e);if(!t&&!b(e))return F(e);var i=p(e),n=!!i,a=i||[],r=a.length;for(var o in e)!s(e,o)||n&&("length"==o||h(o,r))||t&&"constructor"==o||a.push(o);return a}var O=9007199254740991,P="[object Arguments]",E="[object Function]",M="[object GeneratorFunction]",A="[object String]",I=/^(?:0|[1-9]\d*)$/,D=Object.prototype,C=D.hasOwnProperty,R=D.toString,N=D.propertyIsEnumerable,L=Object.getPrototypeOf,B=Object.keys,H=Math.max,W=!N.call({valueOf:1},"valueOf"),F=u(B,Object),U=r("length"),G=u(L,Object),V=Array.isArray,$=c(function(e,t){if(W||y(t)||b(t))return void f(t,S(t),e);for(var i in t)C.call(t,i)&&l(e,i,t[i])});t.exports=$},{}],34:[function(e,i,n){!function(e,n){"function"==typeof t&&t.amd?t(n):"object"==("undefined"==typeof i?"undefined":a(i))&&i.exports?i.exports=n():e.log=n()}(this,function(){function e(e){return("undefined"==typeof console?"undefined":a(console))!==l&&(void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):u)}function t(e,t){var i=e[t];if("function"==typeof i.bind)return i.bind(e);try{return Function.prototype.bind.call(i,e)}catch(t){return function(){return Function.prototype.apply.apply(i,[e,arguments])}}}function i(e,t,i){return function(){("undefined"==typeof console?"undefined":a(console))!==l&&(n.call(this,t,i),this[e].apply(this,arguments))}}function n(e,t){for(var i=0;i<s.length;i++){var n=s[i];this[n]=i<e?u:this.methodFactory(n,e,t)}}function r(t,n,a){return e(t)||i.apply(this,arguments)}function o(e,t,i){function o(e){var t=(s[e]||"silent").toUpperCase();try{return void(window.localStorage[c]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+t+";"}catch(e){}}function u(){var e;try{e=window.localStorage[c]}catch(e){}if(("undefined"==typeof e?"undefined":a(e))===l)try{var t=window.document.cookie,i=t.indexOf(encodeURIComponent(c)+"=");i&&(e=/^([^;]+)/.exec(t.slice(i))[1])}catch(e){}return void 0===f.levels[e]&&(e=void 0),e}var d,f=this,c="loglevel";e&&(c+=":"+e),f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=i||r,f.getLevel=function(){return d},f.setLevel=function(t,i){if("string"==typeof t&&void 0!==f.levels[t.toUpperCase()]&&(t=f.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=f.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(d=t,i!==!1&&o(t),n.call(f,t,e),("undefined"==typeof console?"undefined":a(console))===l&&t<f.levels.SILENT)return"No console available for logging"},f.setDefaultLevel=function(e){u()||f.setLevel(e,!1)},f.enableAll=function(e){f.setLevel(f.levels.TRACE,e)},f.disableAll=function(e){f.setLevel(f.levels.SILENT,e)};var p=u();null==p&&(p=null==t?"WARN":t),f.setLevel(p,!1)}var u=function(){},l="undefined",s=["trace","debug","info","warn","error"],d=new o,f={};d.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new o(e,d.getLevel(),d.methodFactory)),t};var c=("undefined"==typeof window?"undefined":a(window))!==l?window.log:void 0;return d.noConflict=function(){return("undefined"==typeof window?"undefined":a(window))!==l&&window.log===d&&(window.log=c),d},d})},{}],35:[function(e,i,r){(function(e){(function(){function n(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function o(e,t,i){var n={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"7 / Server 2008 R2","6.0":"Vista / Server 2008",5.2:"XP 64-bit / Server 2003",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&i&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n),e=String(e),t&&i&&(e=e.replace(RegExp(t,"i"),i)),e=l(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function u(e,t){var i=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=x)for(;++i<n;)t(e[i],i,e);else s(e,t)}function l(e){return e=h(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:n(e)}function s(e,t){for(var i in e)S.call(e,i)&&t(e[i],i,e)}function d(e){return null==e?n(e):O.call(e).slice(8,-1)}function f(e,t){var i=null!=e?a(e[t]):"number";return!(/^(?:boolean|number|string|undefined)$/.test(i)||"object"==i&&!e[t])}function c(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function p(e,t){var i=null;return u(e,function(n,a){i=t(i,n,a,e)}),i}function h(e){return String(e).replace(/^ +| +$/g,"")}function m(e){function t(t){return p(t,function(t,i){return t||RegExp("\\b"+(i.pattern||c(i))+"\\b","i").exec(e)&&(i.label||i)})}function i(t){return p(t,function(t,i,n){return t||(i[J]||i[/^[a-z]+(?: +[a-z]+\b)*/i.exec(J)]||RegExp("\\b"+c(n)+"(?:\\b|\\w*\\d)","i").exec(e))&&n})}function n(t){return p(t,function(t,i){return t||RegExp("\\b"+(i.pattern||c(i))+"\\b","i").exec(e)&&(i.label||i)})}function r(t){return p(t,function(t,i){var n=i.pattern||c(i);return!t&&(t=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=o(t,n,i.label||i)),t})}function u(t){return p(t,function(t,i){var n=i.pattern||c(i);return!t&&(t=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(i.label&&!RegExp(n,"i").test(i.label)?i.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),i=i.label||i,t=l(t[0].replace(RegExp(n,"i"),i).replace(RegExp("; *(?:"+i+"[_-])?","i")," ").replace(RegExp("("+i+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function y(t){return p(t,function(t,i){return t||(RegExp(i+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}function b(){return this.description||""}var g=_,w=e&&"object"==("undefined"==typeof e?"undefined":a(e))&&"String"!=d(e);w&&(g=e,e=null);var x=g.navigator||{},T=x.userAgent||"";e||(e=T);var S,P,E=w||j==v,M=w?!!x.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(O.toString()),A="Object",I=w?A:"ScriptBridgingProxyObject",D=w?A:"Environment",C=w&&g.java?"JavaPackage":d(g.java),R=w?A:"RuntimeObject",N=/\bJava/.test(C)&&g.java,L=N&&d(g.environment)==D,B=N?"a":"α",H=N?"b":"β",W=g.document||{},F=g.operamini||g.opera,U=k.test(U=w&&F?F["[[Class]]"]:d(F))?U:F=null,G=e,V=[],$=null,q=e==T,K=q&&F&&"function"==typeof F.version&&F.version(),z=t([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),X=n(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),J=u([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation 3","PlayStation 4","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),Y=i({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),Z=r(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(z&&(z=[z]),Y&&!J&&(J=u([Y])),(S=/\bGoogle TV\b/.exec(J))&&(J=S[0]),/\bSimulator\b/i.test(e)&&(J=(J?J+" ":"")+"Simulator"),"Opera Mini"==X&&/\bOPiOS\b/.test(e)&&V.push("running in Turbo/Uncompressed mode"),"IE"==X&&/\blike iPhone OS\b/.test(e)?(S=m(e.replace(/like iPhone OS/,"")),Y=S.manufacturer,J=S.product):/^iP/.test(J)?(X||(X="Safari"),Z="iOS"+((S=/ OS ([\d_]+)/i.exec(e))?" "+S[1].replace(/_/g,"."):"")):"Konqueror"!=X||/buntu/i.test(Z)?Y&&"Google"!=Y&&(/Chrome/.test(X)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(J))||/\bAndroid\b/.test(Z)&&/^Chrome/.test(X)&&/\bVersion\//i.test(e)?(X="Android Browser",Z=/\bAndroid\b/.test(Z)?Z:"Android"):"Silk"==X?(/\bMobi/i.test(e)||(Z="Android",V.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&V.unshift("accelerated")):"PaleMoon"==X&&(S=/\bFirefox\/([\d.]+)\b/.exec(e))?V.push("identifying as Firefox "+S[1]):"Firefox"==X&&(S=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(Z||(Z="Firefox OS"),J||(J=S[1])):X&&!(S=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(X))||(X&&!J&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(S+"/")+8))&&(X=null),(S=J||Y||Z)&&(J||Y||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(Z))&&(X=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(Z)?Z:S)+" Browser")):Z="Kubuntu",K||(K=y(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",c(X),"(?:Firefox|Minefield|NetFront)"])),(S="iCab"==z&&parseFloat(K)>3&&"WebKit"||/\bOpera\b/.test(X)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(z)&&"WebKit"||!z&&/\bMSIE\b/i.test(e)&&("Mac OS"==Z?"Tasman":"Trident")||"WebKit"==z&&/\bPlayStation\b(?! Vita\b)/i.test(X)&&"NetFront")&&(z=[S]),"IE"==X&&(S=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(X+=" Mobile",Z="Windows Phone "+(/\+$/.test(S)?S:S+".x"),V.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(X="IE Mobile",Z="Windows Phone 8.x",V.unshift("desktop mode"),K||(K=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=X&&"Trident"==z&&(S=/\brv:([\d.]+)/.exec(e))&&(X&&V.push("identifying as "+X+(K?" "+K:"")),X="IE",K=S[1]),q){if(f(g,"global"))if(N&&(S=N.lang.System,G=S.getProperty("os.arch"),Z=Z||S.getProperty("os.name")+" "+S.getProperty("os.version")),E&&f(g,"system")&&(S=[g.system])[0]){Z||(Z=S[0].os||null);try{S[1]=g.require("ringo/engine").version,K=S[1].join("."),X="RingoJS"}catch(e){S[0].global.system==g.system&&(X="Narwhal")}}else"object"==a(g.process)&&!g.process.browser&&(S=g.process)?(X="Node.js",G=S.arch,Z=S.platform,K=/[\d.]+/.exec(S.version)[0]):L&&(X="Rhino");else d(S=g.runtime)==I?(X="Adobe AIR",Z=S.flash.system.Capabilities.os):d(S=g.phantom)==R?(X="PhantomJS",K=(S=S.version||null)&&S.major+"."+S.minor+"."+S.patch):"number"==typeof W.documentMode&&(S=/\bTrident\/(\d+)/i.exec(e))&&(K=[K,W.documentMode],(S=+S[1]+4)!=K[1]&&(V.push("IE "+K[1]+" mode"),z&&(z[1]=""),K[1]=S),K="IE"==X?String(K[1].toFixed(1)):K[0]);Z=Z&&l(Z)}K&&(S=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(K)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(q&&x.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&($=/b/i.test(S)?"beta":"alpha",K=K.replace(RegExp(S+"\\+?$"),"")+("beta"==$?H:B)+(/\d+\+?/.exec(S)||"")),"Fennec"==X||"Firefox"==X&&/\b(?:Android|Firefox OS)\b/.test(Z)?X="Firefox Mobile":"Maxthon"==X&&K?K=K.replace(/\.[\d.]+/,".x"):/\bXbox\b/i.test(J)?(Z=null,"Xbox 360"==J&&/\bIEMobile\b/.test(e)&&V.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test(X)&&(!X||J||/Browser|Mobi/.test(X))||"Windows CE"!=Z&&!/Mobi/i.test(e)?"IE"==X&&q&&null===g.external?V.unshift("platform preview"):(/\bBlackBerry\b/.test(J)||/\bBB10\b/.test(e))&&(S=(RegExp(J.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||K)?(S=[S,/BB10/.test(e)],Z=(S[1]?(J=null,Y="BlackBerry"):"Device Software")+" "+S[0],K=null):this!=s&&"Wii"!=J&&(q&&F||/Opera/.test(X)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==X&&/\bOS X (?:\d+\.){2,}/.test(Z)||"IE"==X&&(Z&&!/^Win/.test(Z)&&K>5.5||/\bWindows XP\b/.test(Z)&&K>8||8==K&&!/\bTrident\b/.test(e)))&&!k.test(S=m.call(s,e.replace(k,"")+";"))&&S.name&&(S="ing as "+S.name+((S=S.version)?" "+S:""),k.test(X)?(/\bIE\b/.test(S)&&"Mac OS"==Z&&(Z=null),S="identify"+S):(S="mask"+S,X=U?l(U.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(S)&&(Z=null),q||(K=null)),z=["Presto"],V.push(S)):X+=" Mobile",(S=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(S=[parseFloat(S.replace(/\.(\d)$/,".0$1")),S],"Safari"==X&&"+"==S[1].slice(-1)?(X="WebKit Nightly",$="alpha",K=S[1].slice(0,-1)):K!=S[1]&&K!=(S[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(K=null),S[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==S[0]&&537.36==S[2]&&parseFloat(S[1])>=28&&"WebKit"==z&&(z=["Blink"]),q&&(M||S[1])?(z&&(z[1]="like Chrome"),S=S[1]||(S=S[0],S<530?1:S<532?2:S<532.05?3:S<533?4:S<534.03?5:S<534.07?6:S<534.1?7:S<534.13?8:S<534.16?9:S<534.24?10:S<534.3?11:S<535.01?12:S<535.02?"13+":S<535.07?15:S<535.11?16:S<535.19?17:S<536.05?18:S<536.1?19:S<537.01?20:S<537.11?"21+":S<537.13?23:S<537.18?24:S<537.24?25:S<537.36?26:"Blink"!=z?"27":"28")):(z&&(z[1]="like Safari"),S=S[0],S=S<400?1:S<500?2:S<526?3:S<533?4:S<534?"4+":S<535?5:S<537?6:S<538?7:S<601?8:"8"),z&&(z[1]+=" "+(S+="number"==typeof S?".x":/[.+]/.test(S)?"":"+")),"Safari"==X&&(!K||parseInt(K)>45)&&(K=S)),"Opera"==X&&(S=/\bzbov|zvav$/.exec(Z))?(X+=" ",V.unshift("desktop mode"),"zvav"==S?(X+="Mini",K=null):X+="Mobile",Z=Z.replace(RegExp(" *"+S+"$"),"")):"Safari"==X&&/\bChrome\b/.exec(z&&z[1])&&(V.unshift("desktop mode"),X="Chrome Mobile",K=null,/\bOS X\b/.test(Z)?(Y="Apple",Z="iOS 4.3+"):Z=null),K&&0==K.indexOf(S=/[\d.]+$/.exec(Z))&&e.indexOf("/"+S+"-")>-1&&(Z=h(Z.replace(S,""))),z&&!/\b(?:Avant|Nook)\b/.test(X)&&(/Browser|Lunascape|Maxthon/.test(X)||"Safari"!=X&&/^iOS/.test(Z)&&/\bSafari\b/.test(z[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(X)&&z[1])&&(S=z[z.length-1])&&V.push(S),V.length&&(V=["("+V.join("; ")+")"]),Y&&J&&J.indexOf(Y)<0&&V.push("on "+Y),J&&V.push((/^on /.test(V[V.length-1])?"":"on ")+J),Z&&(S=/ ([\d.+]+)$/.exec(Z)||(P=/^[a-z]+ ([\d.+]+) \//i.exec(Z)),Z={architecture:32,family:S&&!P?Z.replace(S[0],""):Z,version:S?S[1]:null,toString:function(){var e=this.version;return this.family+(e&&!P?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(S=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(G))&&!/\bi686\b/i.test(G)?(Z&&(Z.architecture=64,Z.family=Z.family.replace(RegExp(" *"+S),"")),X&&(/\bWOW64\b/i.test(e)||q&&/\w(?:86|32)$/.test(x.cpuClass||x.platform)&&!/\bWin64; x64\b/i.test(e))&&V.unshift("32-bit")):Z&&/^OS X/.test(Z.family)&&"Chrome"==X&&parseFloat(K)>=39&&(Z.architecture=64),e||(e=null);var Q={};return Q.description=e,Q.layout=z&&z[0],Q.manufacturer=Y,Q.name=X,Q.prerelease=$,Q.product=J,Q.ua=e,Q.version=X&&K,Q.os=Z||{architecture:null,family:null,version:null,toString:function(){return"null"}},Q.parse=m,Q.toString=b,Q.version&&V.unshift(K),Q.name&&V.unshift(X),Z&&X&&(Z!=String(Z).split(" ")[0]||Z!=X.split(" ")[0]&&!J)&&V.push(J?"("+Z+")":"on "+Z),V.length&&(Q.description=V.join(" ")),Q}var y={function:!0,object:!0},_=y["undefined"==typeof window?"undefined":a(window)]&&window||this,v=_,b=y["undefined"==typeof r?"undefined":a(r)]&&r,g=y["undefined"==typeof i?"undefined":a(i)]&&i&&!i.nodeType&&i,w=b&&g&&"object"==("undefined"==typeof e?"undefined":a(e))&&e;!w||w.global!==w&&w.window!==w&&w.self!==w||(_=w);var x=Math.pow(2,53)-1,k=/\bOpera/,j=this,T=Object.prototype,S=T.hasOwnProperty,O=T.toString,P=m();"function"==typeof t&&"object"==a(t.amd)&&t.amd?(_.platform=P,t(function(){return P})):b&&g?s(P,function(e,t){b[t]=e}):_.platform=P}).call(this)}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],36:[function(e,t,i){var n=e("./stringify"),a=e("./parse");t.exports={stringify:n,parse:a}},{"./parse":37,"./stringify":38}],37:[function(e,t,i){var n=e("./utils"),a=Object.prototype.hasOwnProperty,r={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1,decoder:n.decode},o=function e(t,i){for(var n={},r=t.split(i.delimiter,i.parameterLimit===1/0?void 0:i.parameterLimit),o=0;o<r.length;++o){var e,u,l=r[o],s=l.indexOf("]=")===-1?l.indexOf("="):l.indexOf("]=")+1;s===-1?(e=i.decoder(l),u=i.strictNullHandling?null:""):(e=i.decoder(l.slice(0,s)),u=i.decoder(l.slice(s+1))),a.call(n,e)?n[e]=[].concat(n[e]).concat(u):n[e]=u}return n},u=function e(t,i,n){if(!t.length)return i;var a,r=t.shift();if("[]"===r)a=[],a=a.concat(e(t,i,n));else{a=n.plainObjects?Object.create(null):{};var o="["===r[0]&&"]"===r[r.length-1]?r.slice(1,r.length-1):r,u=parseInt(o,10);!isNaN(u)&&r!==o&&String(u)===o&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(a=[],a[u]=e(t,i,n)):a[o]=e(t,i,n)}return a},l=function e(t,i,n){if(t){var r=n.allowDots?t.replace(/\.([^\.\[]+)/g,"[$1]"):t,o=/^([^\[\]]*)/,l=/(\[[^\[\]]*\])/g,e=o.exec(r),s=[];if(e[1]){if(!n.plainObjects&&a.call(Object.prototype,e[1])&&!n.allowPrototypes)return;s.push(e[1])}for(var d=0;null!==(e=l.exec(r))&&d<n.depth;)d+=1,(n.plainObjects||!a.call(Object.prototype,e[1].replace(/\[|\]/g,""))||n.allowPrototypes)&&s.push(e[1]);return e&&s.push("["+r.slice(e.index)+"]"),u(s,i,n)}};t.exports=function(e,t){var i=t||{};if(null!==i.decoder&&void 0!==i.decoder&&"function"!=typeof i.decoder)throw new TypeError("Decoder has to be a function.");if(i.delimiter="string"==typeof i.delimiter||n.isRegExp(i.delimiter)?i.delimiter:r.delimiter,i.depth="number"==typeof i.depth?i.depth:r.depth,i.arrayLimit="number"==typeof i.arrayLimit?i.arrayLimit:r.arrayLimit,i.parseArrays=i.parseArrays!==!1,i.decoder="function"==typeof i.decoder?i.decoder:r.decoder,i.allowDots="boolean"==typeof i.allowDots?i.allowDots:r.allowDots,i.plainObjects="boolean"==typeof i.plainObjects?i.plainObjects:r.plainObjects,i.allowPrototypes="boolean"==typeof i.allowPrototypes?i.allowPrototypes:r.allowPrototypes,i.parameterLimit="number"==typeof i.parameterLimit?i.parameterLimit:r.parameterLimit,i.strictNullHandling="boolean"==typeof i.strictNullHandling?i.strictNullHandling:r.strictNullHandling,""===e||null===e||"undefined"==typeof e)return i.plainObjects?Object.create(null):{};for(var a="string"==typeof e?o(e,i):e,u=i.plainObjects?Object.create(null):{},s=Object.keys(a),d=0;d<s.length;++d){var f=s[d],c=l(f,a[f],i);u=n.merge(u,c,i)}return n.compact(u)}},{"./utils":39}],38:[function(e,t,i){var n=e("./utils"),r={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o={delimiter:"&",strictNullHandling:!1,skipNulls:!1,encode:!0,encoder:n.encode},u=function e(t,i,a,r,o,u,l,s,d){var f=t;if("function"==typeof l)f=l(i,f);else if(f instanceof Date)f=f.toISOString();else if(null===f){if(r)return u?u(i):i;f=""}if("string"==typeof f||"number"==typeof f||"boolean"==typeof f||n.isBuffer(f))return u?[u(i)+"="+u(f)]:[i+"="+String(f)];var c=[];if("undefined"==typeof f)return c;var p;if(Array.isArray(l))p=l;else{var h=Object.keys(f);p=s?h.sort(s):h}for(var m=0;m<p.length;++m){var y=p[m];o&&null===f[y]||(c=Array.isArray(f)?c.concat(e(f[y],a(i,y),a,r,o,u,l,s,d)):c.concat(e(f[y],i+(d?"."+y:"["+y+"]"),a,r,o,u,l,s,d)))}return c};t.exports=function(e,t){var i,n,l=e,s=t||{},d="undefined"==typeof s.delimiter?o.delimiter:s.delimiter,f="boolean"==typeof s.strictNullHandling?s.strictNullHandling:o.strictNullHandling,c="boolean"==typeof s.skipNulls?s.skipNulls:o.skipNulls,p="boolean"==typeof s.encode?s.encode:o.encode,h=p?"function"==typeof s.encoder?s.encoder:o.encoder:null,m="function"==typeof s.sort?s.sort:null,y="undefined"!=typeof s.allowDots&&s.allowDots;if(null!==s.encoder&&void 0!==s.encoder&&"function"!=typeof s.encoder)throw new TypeError("Encoder has to be a function.");"function"==typeof s.filter?(n=s.filter,l=n("",l)):Array.isArray(s.filter)&&(i=n=s.filter);var _=[];if("object"!=("undefined"==typeof l?"undefined":a(l))||null===l)return"";var v;v=s.arrayFormat in r?s.arrayFormat:"indices"in s?s.indices?"indices":"repeat":"indices";var b=r[v];i||(i=Object.keys(l)),m&&i.sort(m);for(var g=0;g<i.length;++g){var w=i[g];c&&null===l[w]||(_=_.concat(u(l[w],w,b,f,c,h,n,m,y)))}return _.join(d)}},{"./utils":39}],39:[function(e,t,i){var n=function(){for(var e=new Array(256),t=0;t<256;++t)e[t]="%"+((t<16?"0":"")+t.toString(16)).toUpperCase();return e}();i.arrayToObject=function(e,t){for(var i=t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)"undefined"!=typeof e[n]&&(i[n]=e[n]);return i},i.merge=function(e,t,n){if(!t)return e;if("object"!=("undefined"==typeof t?"undefined":a(t))){if(Array.isArray(e))e.push(t);else{if("object"!=("undefined"==typeof e?"undefined":a(e)))return[e,t];e[t]=!0}return e}if("object"!=("undefined"==typeof e?"undefined":a(e)))return[e].concat(t);var r=e;return Array.isArray(e)&&!Array.isArray(t)&&(r=i.arrayToObject(e,n)),Object.keys(t).reduce(function(e,a){var r=t[a];return Object.prototype.hasOwnProperty.call(e,a)?e[a]=i.merge(e[a],r,n):e[a]=r,
e},r)},i.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},i.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),i="",a=0;a<t.length;++a){var r=t.charCodeAt(a);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122?i+=t.charAt(a):r<128?i+=n[r]:r<2048?i+=n[192|r>>6]+n[128|63&r]:r<55296||r>=57344?i+=n[224|r>>12]+n[128|r>>6&63]+n[128|63&r]:(a+=1,r=65536+((1023&r)<<10|1023&t.charCodeAt(a)),i+=n[240|r>>18]+n[128|r>>12&63]+n[128|r>>6&63]+n[128|63&r])}return i},i.compact=function(e,t){if("object"!=("undefined"==typeof e?"undefined":a(e))||null===e)return e;var n=t||[],r=n.indexOf(e);if(r!==-1)return n[r];if(n.push(e),Array.isArray(e)){for(var o=[],u=0;u<e.length;++u)e[u]&&"object"==a(e[u])?o.push(i.compact(e[u],n)):"undefined"!=typeof e[u]&&o.push(e[u]);return o}for(var l=Object.keys(e),s=0;s<l.length;++s){var d=l[s];e[d]=i.compact(e[d],n)}return e},i.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},i.isBuffer=function(e){return null!==e&&"undefined"!=typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},{}]},{},[15])(15)})}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if("string"!=typeof e)return!1;var t=e.split(".").map(function(e){return parseInt(e)}),i=t[0],n=t[1];t[2];return i>2||2===i&&n>=3}function r(e){var t=[{playerName:"ads-play",muxName:"adplay"},{playerName:"ads-pause",muxName:"adpause"},{playerName:"ads-ad-ended",muxName:"adended"},{playerName:"ads-request",muxName:"adrequest"},{playerName:"ads-load",muxName:"adresponse"}];if(t.forEach(function(t){e.on(t.playerName,function(){e.mux.emit(t.muxName)})}),e.ima3&&e.ima3.adPlayer){a(e.ima3.version)?e.on("ads-ad-started",function(){e.mux.emit("adplay")}):(e.ima3.adPlayer.on("play",function(){e.mux.emit("adplay")}),e.ima3.adPlayer.on("pause",function(){e.mux.emit("adpause")}),e.ima3.adPlayer.on("ended",function(){e.mux.emit("adended")}));var i=["pause","ended","adserror"],n=["play"];(0,u.default)(e,e.ima3.adPlayer,i,n)}else e.on("ads-play",function(){e.mux.emit("adplaying")})}Object.defineProperty(i,"__esModule",{value:!0}),i.brightcoveImaAdsEventsSupported=a,i.default=r;var o=e("./helpers/adplaying.js"),u=n(o)},{"./helpers/adplaying.js":5}],5:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=!1;e.on("adstart",function(){a=!0}),e.on("adend",function(){a=!1}),e.on("adserror",function(){a=!1});var r=function(){var n=u(t.currentTime()),r=function i(){var r=Date.now(),o=u(t.currentTime());a?o>n&&(t.off("timeupdate",i),e.mux.emit("adplaying",{viewer_time:r-(o-n)})):t.off("timeupdate",i)};t.on("timeupdate",r),i.forEach(function(e){t.one(e,function(){t.off("timeupdate",r)})})};n.forEach(function(e){t.on(e,r)})}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var r=e("mux-embed"),o=n(r),u=o.default.utils.secondsToMs},{"mux-embed":3}],6:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=["onceux-linearad-pause","onceux-linearad-skipped","onceux-linearad-complete","adserror"],i=["onceux-linearad-start","onceux-linearad-resume"];(0,o.default)(e,e,t,i),e.on("onceux-linearad-start",function(){e.mux.emit("adplay")}),e.on("onceux-linearad-resume",function(){e.mux.emit("adplay")}),e.on("onceux-linearad-pause",function(){e.mux.emit("adpause")}),e.on("onceux-linearad-complete",function(){e.mux.emit("adended")}),e.on("onceux-linearad-skipped",function(){e.mux.emit("adended")})}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var r=e("./helpers/adplaying.js"),o=n(r)},{"./helpers/adplaying.js":5}],7:[function(e,t,i){"use strict";function n(e){e.one("adsready",function(){if(e.ima&&e.ima.addEventListener){var t=void 0,i=void 0,n=void 0,a=void 0,r=void 0;try{var o=window.google.ima.AdEvent.Type;t=o.STARTED,i=o.COMPLETE,n=o.PAUSED,a=o.RESUMED,r=o.SKIPPED}catch(e){t="start",i="complete",n="pause",a="resume",r="skip"}e.ima.addEventListener(t,function(){e.mux.emit("adplay"),e.mux.emit("adplaying")}),e.ima.addEventListener(a,function(){e.mux.emit("adplay"),e.mux.emit("adplaying")}),e.ima.addEventListener(n,function(){e.mux.emit("adpause")}),e.ima.addEventListener(i,function(){e.mux.emit("adended")}),e.ima.addEventListener(r,function(){e.mux.emit("adended")})}})}Object.defineProperty(i,"__esModule",{value:!0}),i.default=n},{}],8:[function(e,t,i){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,r=n(a),o=e("mux-embed"),u=n(o),l=e("global/window"),s=n(l),d=e("lodash.assign"),f=n(d),c=e("./ads/videojs-ima.js"),p=n(c),h=e("./ads/brightcove.js"),m=n(h),y=e("./ads/onceux.js"),_=n(y),v=u.default.log,b=u.default.utils.safeCall,g=u.default.utils.getComputedStyle,w=u.default.utils.secondsToMs,x=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"];r.default.plugin("mux",function(e){if(r.default.IS_IE8)return!1;var t=this,i=t.id();e=e||{},e.data=(0,f.default)({player_software_name:"Video.js",player_software_version:r.default.VERSION||"< 4.11",player_mux_plugin_name:"videojs-mux",player_mux_plugin_version:"2.0.28"},e.data),e.getPlayheadTime=function(){return w(t.currentTime())},e.getStateData=function(){var e=b(t,"videoHeight"),i=b(t,"videoWidth");if("undefined"==typeof i||"undefined"==typeof e){var n=t.el().firstChild;n&&"VIDEO"===n.nodeName.toUpperCase()&&(e=n.videoHeight,i=n.videoWidth)}return{player_is_paused:b(t,"paused"),player_is_fullscreen:b(t,"isFullscreen"),player_autoplay_on:b(t,"autoplay"),player_preload_on:b(t,"preload"),player_width:g(t.el(),"width"),player_height:g(t.el(),"height"),player_language_code:b(t,"language"),video_poster_url:b(t,"poster"),video_source_url:b(t,"currentSrc"),video_source_mime_type:b(t,"currentType"),video_source_duration:w(b(t,"duration")),video_source_height:e,video_source_width:i}},t.mux=function(){v.error("[videojs-mux] The plugin was initialized more than once.")},t.mux.emit=function(e,t){u.default.emit(i,e,t)},u.default.init(i,e);var n=!1,a=function(){n||t.mux.emit("playerready"),n=!0};t.ready(function(){t.addClass("vjs-mux"),s.default.setTimeout(a,0)});var o=!1;t.one("play",a),x.forEach(function(e){t.on(e,function(){if(!o){var i={};if("error"===e){var n=b(t,"error");i.player_error_code=n&&n.code,i.player_error_message=n&&n.message}t.mux.emit(e,i)}})});var l=!1;t.on("play",function(){l=!0}),t.on("pause",function(){l=!1}),t.on("adstart",function(){o=!0,l&&t.mux.emit("pause"),t.mux.emit("adbreakstart")}),t.on("adend",function(){t.mux.emit("adbreakend"),o=!1,b(t,"paused")||(t.mux.emit("play"),l=!0,t.onceux&&t.mux.emit("playing"))}),t.on("adserror",function(){t.mux.emit("aderror")}),t.on("adsready",function(){t.ima&&(0,p.default)(t),(t.ima3||t.FreeWheelPlugin)&&(0,m.default)(t),t.onceux&&(0,_.default)(t)}),t.on("dispose",function(){t.mux.emit("destroy")})}),i.default={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ads/brightcove.js":4,"./ads/onceux.js":6,"./ads/videojs-ima.js":7,"global/window":1,"lodash.assign":2,"mux-embed":3}]},{},[8]);